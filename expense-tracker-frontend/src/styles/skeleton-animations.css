/**
 * Skeleton animations - shimmer, pulse, and glow effects.
 * High-performance animations using GPU-accelerated properties.
 */
@import '../variables.scss';

// Shimmer animation - wave effect moving left-to-right
@keyframes skeleton-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

// Pulse animation - opacity pulse
@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

// Glow animation - subtle glow pulse for important sections
@keyframes skeleton-glow {
  0%, 100% {
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.6);
  }
}

// Fade in animation for skeleton reveal
@keyframes skeleton-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

// Skeleton base with shimmer gradient
.skeleton {
  // Light mode shimmer gradient
  background: linear-gradient(
    90deg,
    #f0f0f0 0%,
    #e8e8e8 20%,
    #f0f0f0 40%,
    #f0f0f0 100%
  );
  background-size: 200% 100%;
  background-position: -200% 0;
  
  // Apply shimmer animation
  &--shimmer {
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
  }

  // Apply pulse animation
  &--pulse {
    animation: skeleton-pulse 1.5s ease-in-out infinite;
  }

  // Apply glow animation
  &--glow {
    animation: skeleton-glow 2s ease-in-out infinite;
  }

  // Fade in on mount
  &--fade-in {
    animation: skeleton-fade-in 0.3s ease-out;
  }
}

// Dark mode adjustments
@media (prefers-color-scheme: dark) {
  .skeleton {
    background: linear-gradient(
      90deg,
      #2a2a2a 0%,
      #1f1f1f 20%,
      #2a2a2a 40%,
      #2a2a2a 100%
    );
    background-size: 200% 100%;
    background-position: -200% 0;
  }

  // Adjust glow color for dark mode
  @keyframes skeleton-glow {
    0%, 100% {
      box-shadow: 0 0 8px rgba(14, 165, 233, 0.4);
    }
    50% {
      box-shadow: 0 0 20px rgba(14, 165, 233, 0.7);
    }
  }
}

// Reduced motion support - static skeleton
@media (prefers-reduced-motion: reduce) {
  .skeleton {
    animation: none !important;
    background: #f0f0f0;
    opacity: 0.7;
  }

  @media (prefers-color-scheme: dark) {
    .skeleton {
      background: #2a2a2a;
      opacity: 0.7;
    }
  }
}

// Performance optimization: will-change for animated properties
.skeleton--shimmer,
.skeleton--pulse,
.skeleton--glow {
  will-change: opacity, background-position, box-shadow;
}

// Cleanup will-change after animation completes
.skeleton--loaded {
  will-change: auto;
}
