/* Motion-safe overrides and performance-first fallbacks. */

.skip-animation,
[data-skip-animation='true'] {
  animation: none !important;
  transition: none !important;
}

[data-transition-profile] {
  outline: 1px solid transparent;
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 1ms !important;
    animation-iteration-count: 1 !important;
    animation-delay: 0ms !important;
    transition-duration: 1ms !important;
  }

  .modal-backdrop-transition,
  .modal-content-transition,
  .list-item-transition,
  .accordion-panel-transition,
  .button-transition,
  .input-transition,
  .card-hover-transition,
  .tab-content-transition {
    animation: none !important;
    transition: none !important;
  }
}

/* Performance fallback: opacity-only for critical cases */
.performance-fallback {
  animation: fade-in var(--duration-fast) var(--ease-out);
  will-change: opacity;
}

/* Legacy vendor prefixes for transform transitions where needed */
.button-transition,
.card-hover-transition,
.accordion-icon-transition,
.tab-underline-transition::after {
  -webkit-transition: transform var(--transition-fast) var(--transition-ease-out);
  -moz-transition: transform var(--transition-fast) var(--transition-ease-out);
  transition: transform var(--transition-fast) var(--transition-ease-out);
}
