// ============================================
// üÉè CARD COMPONENT STYLES
// ============================================
// Consolidated card foundation + variants
// Uses only variables.scss via CSS custom properties
// ============================================

@use '../variables' as *;
@use '../mixins' as *;

// ============================================
// üì¶ BASE CARD
// ============================================

.card {
  @include card;
  display: grid;
  gap: var(--space-md);
}

// ============================================
// üé® CARD VARIANTS
// ============================================

.card-flat {
  @include card($hover: false);
  box-shadow: none;
  border: 1px solid var(--border);
}

.card-elevated {
  @include card;
  box-shadow: var(--sh-lg);

  &:hover {
    box-shadow: var(--sh-xl);
  }
}

.card-interactive {
  @include card-interactive;
}

.card-bordered {
  @include card;
  border: 2px solid var(--border);
}

.card-ghost {
  @include card($hover: false);
  background: transparent;
  border: 1px dashed var(--border);
  box-shadow: none;
}

// ============================================
// üìè CARD SIZES
// ============================================

.card-sm {
  padding: var(--space-sm);
  gap: var(--space-xs);
}

.card-lg {
  padding: var(--space-xl);
  gap: var(--space-lg);
}

// ============================================
// üß© CARD PARTS
// ============================================

.card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-md);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid var(--border);
  margin: calc(-1 * var(--card-padding)) calc(-1 * var(--card-padding)) 0;
  padding: var(--card-padding);

  h2, h3, h4 {
    margin: 0;
    font-size: var(--fs-lg);
    font-weight: var(--fw-sb);
  }
}

.card-body {
  flex: 1;
}

.card-footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--space-sm);
  padding-top: var(--space-md);
  border-top: 1px solid var(--border);
  margin: 0 calc(-1 * var(--card-padding)) calc(-1 * var(--card-padding));
  padding: var(--card-padding);
  background: var(--surface-2);
  border-radius: 0 0 var(--card-radius) var(--card-radius);
}

.card-title {
  margin: 0;
  font-size: var(--fs-lg);
  font-weight: var(--fw-sb);
  line-height: var(--lh-tight);
}

.card-subtitle {
  margin: 0;
  font-size: var(--fs-sm);
  color: var(--tx-muted);
}

.card-text {
  color: var(--tx-muted);
  font-size: var(--fs-sm);
  line-height: var(--lh-relaxed);
}

.card-actions {
  display: flex;
  gap: var(--space-sm);
  margin-top: auto;
}

// ============================================
// üñºÔ∏è CARD WITH IMAGE
// ============================================

.card-image {
  margin: calc(-1 * var(--card-padding)) calc(-1 * var(--card-padding)) 0;
  overflow: hidden;
  border-radius: var(--card-radius) var(--card-radius) 0 0;

  img {
    width: 100%;
    height: auto;
    object-fit: cover;
    transition: transform var(--tr);
  }

  .card-interactive &:hover img {
    transform: scale(1.05);
  }
}

// ============================================
// üî≤ CARD GRID (Container Query)
// ============================================

.card-wrapper {
  container-type: inline-size;
}

@container (min-width: 500px) {
  .card-horizontal {
    grid-template-columns: 1fr 2fr;
    align-items: center;

    .card-image {
      margin: calc(-1 * var(--card-padding));
      border-radius: var(--card-radius) 0 0 var(--card-radius);
      height: 100%;

      img {
        height: 100%;
      }
    }
  }
}

// ============================================
// üìä STAT CARD
// ============================================

.stat-card {
  @include card;
  text-align: center;

  .stat-value {
    font-size: var(--fs-3xl);
    font-weight: var(--fw-b);
    line-height: 1;
    color: var(--primary);
  }

  .stat-label {
    font-size: var(--fs-sm);
    color: var(--tx-muted);
    margin-top: var(--space-xs);
  }

  .stat-change {
    font-size: var(--fs-xs);
    margin-top: var(--space-2xs);

    &.positive { color: var(--success); }
    &.negative { color: var(--error); }
  }
}

// ============================================
// üé≠ PLACEHOLDERS (for @extend)
// ============================================

%card-base {
  @include card;
}

%card-hover {
  &:hover {
    box-shadow: var(--sh-md);
    transform: translateY(-1px);
  }
}
